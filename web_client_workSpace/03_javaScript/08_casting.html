<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>js casting</title>
  </head>
  <body>
    <h1>casting</h1>
    <input type="button" value="실행" onclick="test1()" />
    <script>
      function test1() {
        // (+)연산자는 숫자형보다 문자형이 우선시된다
        console.log(3 + 7 + "7"); //107
        console.log(typeof (3 + 7 + "7")); //String

        //(-,*,/,%)연산자는 문자형보다 숫자형이 우선시된다.
        console.log(7 - "7"); //7-7 = 0
        console.log(7 * "7"); //7*7 = 49
        console.log(7 / "7"); //7/7 = 1
        console.log(7 % "4"); //7%4 = 3

        //숫자형으로 바꿔서 연산이 안되는경우 에러발생
        console.log(7 % "a"); //NaN(Not a Number) 숫자로 자동형변환이 불가한 우항
        console.log(typeof (7 % "a")); //number타입(숫자를 기대했지만 숫자가 아니여서)
        //NaN - Number
        //null - Object
      }
    </script>

    <h2>Number | parseInt | parseDouble</h2>
    <input type="button" value="실행" onclick="test2()" />
    <script>
      var test2 = function () {
        var num = "1234.567";
        console.log(Number(num)); //숫자형으로 변환, 변환불가한 문자 존재시 NaN리턴
        console.log(parseInt(num)); //정수형으로 변환, 문자가 있어도 좌측부터 최대한 변환
        console.log(parseFloat(num)); //실수형으로 변환, 문자가 있어도 좌측부터 최대한 변환
        console.log(typeof Number(num));
        console.log(typeof parseInt(num));
        console.log(typeof parseFloat(num));
        var num = "5678.999원";
        console.log(Number(num)); //숫자형으로 변환, 변환불가한 문자 존재시 NaN리턴
        console.log(parseInt(num)); //정수형으로 변환, 문자가 있어도 좌측부터 최대한 변환
        console.log(parseFloat(num)); //실수형으로 변환, 문자가 있어도 좌측부터 최대한 변환
        var num = "(원)5678.999";
        console.log(parseInt(num)); //맨왼쪽에 문자로 시작해서 변환불가
        console.log(parseFloat(num)); //맨왼쪽에 문자로 시작해서 변환불가
      };
    </script>
    <br />
    <input type="number" id="num1" placeholder="숫자1" />
    <input type="number" id="num2" placeholder="숫자2" />
    <input type="button" value="합계산" onclick="test3()" />
    <script>
      /**
       * #num1, #num2의 값을 더해서 출력하세요
       */
      function test3() {
        // input태그의 value는 type속성과 관계없이 모두 String이다.
        console.log(Number(num1.value) + Number(num2.value));
      }
    </script>
    <h2>NaN | infinity</h2>
    <input type="button" value="실행" onclick="test4()" />
    <script>
      var test4 = function () {
        console.log(10 / 0); //결과값 = Infinity(무한) -
        console.log(typeof (10 / 0)); //타입은 Number
        //자바였다면 ArithmeticException. by zero이 나온다

        console.log(10 / "a"); //NaN
        console.log(typeof (10 / "a")); //Number

        //사용자 입력값은 무조건 string
        var num = prompt("숫자를 입력하세요."); //123입력시 string 123
        console.log("num의 타입 = " + typeof num);

        //isNaN의 원리는 숫자로 온전히 변환이 되면~ number라고 쳐주는것
        if (isNaN(num)) alert("숫자가 아닙니다.");
        else alert("숫자입니다");
      };
    </script>

    <h2>논리형으로의 형변환</h2>
    <input type="button" value="실행" onclick="test5()" />
    <script>
      /**
       *  변수, 리터럴(값)이 boolean형으로 형변환 가능
       *
       * 값이 존재하는 것은 true로 치환 : 123, -100, 3.14, '안녕', 'ㅋㅋㅋ', new Date()
       * 값이 존재하지 않는것은 false로 치환 : 0, 0.0, "", '', undefined, null, NaN
       *
       */
      var test5 = function () {
        console.log(Boolean(123)); //true
        console.log(Boolean(-100)); //true
        console.log(Boolean(3.14)); //true
        console.log(Boolean("안녕")); //true
        console.log(Boolean("ㅋㅋㅋ")); //true
        console.log(Boolean(new Date())); //true

        console.log("구분선");

        console.log(Boolean(0)); //false
        console.log(Boolean(0.0)); //false
        console.log(Boolean("")); //false
        console.log(Boolean(undefined)); //false
        console.log(Boolean(null)); //false
        console.log(Boolean(NaN)); //false

        var name = prompt("이름을 입력하세요.");
        //경우1. "홍길동" 확인
        //경우2 "" 아무것도 입력안하고 확인
        //경우3 취소누른경우
        if (name) {
          alert("반갑습니다! [" + name + "]님!");
          var result = document.getElementById("result");
          console.log(result);

          if (result) {
            console.log("#result가 존재함!");
            result.innerText = "반갑습니다! [" + name + "]님!";
          } else {
            console.log("#result가 존재하지 않음!");
            document.querySelector("body").innerHTML +=
              "<h1>반갑습니다! [" + name + "]님!</h1>";
          }
        } else {
          alert("입력된 값이 없습니다.");
        }
      };
    </script>
    <!-- <h1 id="result"></h1> -->
  </body>
</html>
