<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES6</title>
  </head>
  <body>
    <h1>arrow function</h1>
    <button onclick="foo();">foo</button>
    <button onclick="koo(100);">koo</button>
    <button onclick="joo('안녕');">joo</button>
    <button onclick="hoo();">hoo</button>
    <input type="text" id="userName" placeholder="이름" />
    <script>
      var foo = () => {
        console.log("foo");
      };

      //아래와 같다
      // var foo = function(){
      //   console.log("foo");
      // }

      //리턴절만 존재한다면, {return} 생략가능
      var koo = (a) => a * a;

      //위와 같다
      // var koo = (a) => {
      //   return a * a;
      // };

      //실행 구문이 한줄인 경우도  {} 생략가능
      var joo = (x) => alert(x);
      var hoo = (a, b) => a + b;

      //this를 가지지 않는다.
      //this를 부모 context로부터 가져온다. 보통은 window를 가리킨다.
      //event 핸들러로 사용되는 경우, this는 event.target을 가리키지 않는다.
      //따라서 반드시 파라미터로 이벤트 객체를 넣고 event.target을 사용한다.
      document.querySelector("#userName").addEventListener("keyup", (e) => {
        console.log(this);
        console.log(e.target);
      });

      //화살표 함수를 메서드로 사용하는 경우 this로 현재객체를 참조 할 수 없다.
      //메서드 단축표현식을 사용할것.
      var obj = {
        id: "abcde",
        run: function () {
          console.log(this.id); //abced
        },
        fly: () => {
          console.log(this.id); //undefined!!! 왜? this가 obj가 아닌 window를 가리키고 있기 때문
        },
        //객체 안에서만 이렇게 쓸수있다
        walk() {
          console.log(this.id);
        },
      };

      obj.run();
      obj.fly();
    </script>
  </body>
</html>
